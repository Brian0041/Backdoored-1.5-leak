package com.backdoored.hacks.exploit;

import com.backdoored.utils.Utils;
import net.minecraft.network.Packet;
import net.minecraft.network.play.client.CPacketAnimation;
import net.minecraft.util.EnumHand;
import com.backdoored.gui.CategoriesInit;
import com.backdoored.setting.Setting;
import com.backdoored.hacks.BaseHack;

public class FootSpam extends BaseHack
{
    private Setting delay;
    private int i;
    
    public FootSpam() {
        super("Foot Spam", CategoriesInit.EXPLOIT, "Spam movement sounds");
        this.i = 0;
        this.delay = new Setting("Delay", this, 25, 0, 100);
    }
    
    public void onUpdate() {
        if (this.i <= 0 && this.getEnabled()) {
            try {
                FootSpam.mc.field_71439_g.field_71174_a.func_147297_a((Packet)new CPacketAnimation(EnumHand.MAIN_HAND));
            }
            catch (Exception e) {
                Utils.printMessage("Disabled foot spam due to error: " + e.getMessage());
                this.setEnabled(false);
                e.printStackTrace();
            }
            this.i = this.delay.getValInt();
        }
        --this.i;
    }
}
